<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <style>
    body {
      background-color: grey;
    }

    .item-image {
      width: 24px;
      height: 24px;
    }
  </style>
</head>

<body id="bodyid">
  <script type="text/javascript" src="./test.js"></script>

  <input type="file" onchange="handleFileRead(this)" />
  <output id="list"></output>
  <br /><br />

  <!-- TODO: Disable until file is read. -->
  <div class="spoiler-items-wanted">
    <input type="checkbox" value="dreamers" checked />
    <label>Dreamers</label><br />
    <input type="checkbox" value="majorItems" checked />
    <label>Major Items</label><br />
    <input type="checkbox" value="minorItems" />
    <label>Minor Items</label><br />
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>

  <script>
    // Create the Checkbox functionality for picking spoiler item types.
    $('input').on('click', function () {
      window.spoilerItemsWanted = [];
      $('.spoiler-items-wanted input:checked').each(function () {
        window.spoilerItemsWanted.push($(this).val());

        // Re-calculate what we need on the list.
      });
      _filterAndMapAreaItems(window.spoilerMap)
    });


    function plotItemsOnPage() {
      var elts = '<br/><br/><ul class="item-list">'

      var areaArray = Object.keys(window.areaItems)
      for (var idx = 0; idx < areaArray.length; idx++) {
        var areaName = areaArray[idx]
        var areaItemArray = areaItems[areaName]
        var areaItemImageArray = areaItemArray.map(a => itemToImageNameMapping[a])

        elts += '<li>' + areaName + '</li>'
        elts += "<ul><li>"
        for (var jdx = 0; jdx < areaItemImageArray.length; jdx++) {
          elts += (`<img src="./images/${areaItemImageArray[jdx]}" class="item-image"/>`)
        }
        elts += "</li></ul>"
      }
      elts += '</ul>'
      $("body").append(elts)
    }

  </script>
</body>

</html>